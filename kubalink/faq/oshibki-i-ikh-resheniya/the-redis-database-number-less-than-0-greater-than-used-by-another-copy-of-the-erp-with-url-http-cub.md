# The REDIS database number <0> used by another copy of the ERP with URL http://cuba.xxx.ru/

При использовании нескольких копий Cubalink на одном сервере часто возникает проблема, когда одна и та же база данных Redis используется несколькими копиями. Это приводит к тому, что данные, сохраненные в кэше, могут перекрываться, и изменения, сделанные в одной копии, оказываются видимыми в другой.

Чтобы избежать таких ошибок, мы привязали каждую базу данных Redis к конкретному URL системы. При попытке использовать одну и ту же базу данных на разных копиях (с разными URL) будет выведена ошибка:

**The REDIS database number <0> used by another copy of the ERP with URL http://another.xxx.ru**

Эта ошибка может возникнуть как в инсталляторе, так и в веб-приложении. Она указывает на то, что при попытке работать с базой данных, указанной в конфигурации, был обнаружен несоответствующий URL, к которому эта база привязана.

Если вы забыли изменить базу данных для копии, решением будет использовать другую базу данных (по умолчанию номера от 0 до 16) для каждой инсталляции.

&#x20;Если же вы изменили URL конкретной установки (например, с http на https), то достаточно сбросить привязку базы данных Redis к старому URL. Для этого выполните команду:

```
sudo -u www-data php userside_install.phar remove_cached_url
```

Эта мера является информационной и не защищает от использования одной базы данных Redis для разных копий, если вы вручную удалили привязку.

&#x20;Если Вы хотите удалить все базы:

```
redis-cli -h 127.0.0.1 -p 6379 -a Ваш_пароль flushall
```
