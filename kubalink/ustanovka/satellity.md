# Сателлиты

### Описание

Если ваша сеть распределена по различным удалённым населенным пунктам или если сервер САП "Кубалинк" установлен в облаке, целесообразно настроить так называемые "сателлиты". Это отдельные скрипты, которые устанавливаются локально на любом компьютере в месте расположения оборудования и имеют доступ к интернету.

Взаимодействие происходит по принципу географического разделения по городам.

1\) Москва\
2\) Зеленоград\
3\) Митино\
4\) Одинцово

&#x20;Поддерживаются команды SNMP, PING и ARP.

### Установка

* смотрите настройку usm\_poller (как сателлит).

&#x20;В начале скрипта необходимо настроить основные параметры:

```
$ps_apikey = ; // Ключ для удалённых запросов. Не может быть пустым
$zconfig['NIXPINGPATH']['VALUESTR'] = "/usr/bin/ping"; // Путь к утилите ping
$zconfig['PINGTIMEOUT']['VALUESTR'] = 4; // Таймаут при PING (мс)
$zconfig['PINGW']['VALUEINT'] = 0; // Выполнять PING с параметром -W (вместо -w) (1/0)
$zconfig['PING_PARAM']['VALUESTR'] = ; // Добавочные параметры к PING
$zconfig['NIXARPPATH']['VALUESTR'] = '/usr/sbin/arp'; // Путь к arp
```

### Настройка

В разделе "Настройка - Основная - Оборудование - Настройка сателлитов" укажите соответствующий населённый пункт, который будет обрабатываться данным сателлитом, и укажите его URL.

<figure><img src="../../.gitbook/assets/image (4).png" alt=""><figcaption></figcaption></figure>

### Как это работает

При открытии карточки оборудования определяется, в каком населенном пункте оно находится. Если этот пункт обслуживается сателлитом, выполняются команды PING/SNMP через CURL к этому сателлиту, и в ответ приходит результат выполнения.
