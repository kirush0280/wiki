---
description: Оборудование
---

# device

```
Дополнительные параметры:
action - подкатегория запроса 
```

## Подкатегории

## **add\_mark**

```
Описание: Добавление метки
Обязательные параметры:
 object_id - id устройства
 mark_id - ID метки
```

### **get\_connected\_ont\_information**

{% code overflow="wrap" %}
```
Описание: Получение информации о подключенных ONU к OLT (сохраненная информация из базы. Прямой опрос не выполняется)
Необязательные параметры:
 device_id - ID OLT (можно через запятую)
 level_onu_rx_min - минимальный входящий уровень сигнала на ONU (выбрать записи с уровнем менее чем...)
 level_onu_rx_max - максимальный входящий уровень сигнала на ONU (выбрать записи с уровнем выше чем...)
```
{% endcode %}

### **get\_current\_ont\_data**

```
Описание: Получение некоторой текущей информации по ONU с OLT
Обязательные параметры:
 id - id устройства (ONU)
```

### **get\_device\_id**

{% code overflow="wrap" %}
```
Описание: Получение ID устройства по входящим данным
Обязательные параметры:
 data_typer - тип данных, которые проверяем (возможные значения: ip, mac, inventory_number, serial_number, additional_field_XXX)
 data_value - значение
```
{% endcode %}

### **get\_data**

{% code overflow="wrap" %}
```
Описание: Получение информации об устройствах
Обязательные параметры:
 object_type - Тип устройства [switch|onu|olt|radio|all]
Необязательные параметры:
 customer_id - id абонента (можно через запятую)
 dataset - список полей, которые выводить в выдаче (через запятую)
 is_online - флаг - выбирать только активные устройства (1 - активные, -1 - неактивные)
 is_hide_ifaces_data - флаг - скрывать развёрнутую информацию по интерфейсам оборудования
 is_hide_access_data - флаг - скрывать информацию по параметрам доступа к оборудованию
 node_id - id сооружения связи (можно через запятую)
 object_id - id объекта для выборки
```
{% endcode %}

### **get\_iface\_info**

```
Описание: Получение текущей информации по интерфейсам (напрямую с устройства)
Обязательные параметры:
 id - id устройства
```

### **get\_iface\_mac**

```
Описание: Список интерфейсов с MAC-адресами на устройстве
Обязательные параметры:
 object_id - id устройства для выборки
```

### **get\_mac\_list**

```
Описание: Получение списка MAC-адресов, которые были найдены на устройстве
Необязательные параметры:
 interface_list - Номер интерфейса по которому выводить список (можно через запятую)
 object_id - id устройства для выборки
```

### **get\_ont\_data**

```
Описание: Получение последней информации по ONU
Обязательные параметры:
 id - MAC-адрес или серийный номер (id)
 или
 device_id - id устройства (ONU)
```

### **get\_pon\_level\_history**

```
Описание: Получение истории PON-уровней сигналов по ONU
Обязательные параметры:
 onu_name - MAC-адрес или серийный номер ONU (без разделителей)
 или
 device_id - id устройства (OLT)
 или
 onu_device_id - id устройства (ONU)
Необязательные параметры:
 limit - ограничение списка выводимых данных
 order_by - поле сортировки данных
 is_desc - флаг - сортировка в обратном порядке
```

### **delete\_mark**

```
Описание: Снятие метки
Обязательные параметры:
 object_id - id устройства
 mark_id - ID метки
```

### **read\_fdb**

```
Описание: Чтение FDB-таблицы с устройства (может выполняться продолжительное время)
Обязательные параметры:
 device_id - id устройства
```

### **set\_data**

{% code overflow="wrap" %}
```
Описание: Изменение информации об устройстве
Обязательные параметры:
 object_id - id устройства
 param - тип параметра для изменения [ip|mac|comment|iface_count|downlink_port|uplink_port|date_last_activity]
 value - данные (может быть пустым)
```
{% endcode %}

### **set\_iface\_state**

```
Описание: Изменение состояния интерфейса на устройстве
Обязательные параметры:
 device_id - id устройства
 iface - номер интерфейса
 state - состояние [1|0]
```

### **find\_mac**

```
Описание: Поиск MAC-адреса в истории опроса по оборудованию
Обязательные параметры:
 mac - MAC-адрес (верхний регистр без разделителей)
```
