---
description: Работа с заданиями
---

# task

```
Дополнительные параметры:
action - подкатегория запроса
```

## Подкатегории

### **add**

```
Описание: Создание задания

Обязательные параметры:
 work_datedo - дата на которую назначено выполнение задания
 work_typer - ID ТИПА задания

Необязательные параметры:
 apart - номер квартиры
 address_id - id адресной единицы
 author_employee_id - ID сотрудника-автора задания
 customer_id - ID абонента
 deadline_hour - время на выполнение задания (с даты принятия. В часах)
 device_id - ID оборудования
 division_id - ID подразделения (допускается несколько значений через запятую)
 dopf_N - значение дополнительного поля для поля ID N
 employee_id - ID исполнителя (допускается несколько значений через запятую)
 fio - ФИО клиента (имеется в виду, что "клиент" еще не является абонентом)
 is_high_priority - флаг - высокий приоритет
 node_id - ID сооружения связи
 opis - заметки к заданию
 parent_task_id - ID родительского задания
 work_amount - объем работ
```

### **add\_customer\_to\_task**

```
Описание: Добавление абонента к заданию

Обязательные параметры:
 task_id - id задания
 customer_id - id абонента
```

### **add\_device\_to\_task**

```
Описание: Добавление оборудования к заданию

Обязательные параметры:
 task_id - id задания
 device_id - id оборудования
```

### **add\_owner\_to\_task**

```
Описание: Добавление собственника к заданию

Обязательные параметры:
 task_id - id задания
 owner_id - id собственника
```

### **change\_date\_work**

{% code overflow="wrap" %}
```
Описание: Изменение даты и времени выполнения задания (дата, на которую назначены работы)

Обязательные параметры:
 id - id задания
 value - дата
Необязательные параметры:
 employee_id - id сотрудника-инициатора (для фиксации в историю по заданию)
```
{% endcode %}

### **change\_state**

```
Описание: Изменения состояния (статуса) задания

Обязательные параметры:
 id - id задания
 state_id - id состояния задания
Необязательные параметры:
 employee_id - id сотрудника, от имени которого изменять состояние
```

### **check\_verify\_code**

```
Описание: Проверка кода подтверждения для выполнения заявки

Обязательные параметры:
 id - ID задания
 verify_code - код подтверждения
```

### **checklist\_item\_check**

```
Описание: Отметка пункта чек-листа в задании

Обязательные параметры:
 id - id пункта чек-листа
 task_id - id задания
 employee_id - id сотрудника, от имени которого помечается пункт
```

### **checklist\_item\_uncheck**

```
Описание: Снятие отметки с пункта чек-листа в задании

Обязательные параметры:
 id - id пункта чек-листа
 task_id - id задания
```

### **comment\_add**

```
Описание: Добавление комментария

Обязательные параметры:
 id - ID задания
 comment - текст
Необязательные параметры:
 dateadd - дата-время комментария
 employee_id - id сотрудника, от имени которого комментарий
 reply_comment_id - id комментария, на который отвечаем
```

### **comment\_edit**

```
Описание: Изменение комментария

Обязательные параметры:
 id - ID комментария
 task_id - ID задания
 body - текст
```

### **delete**

```
Описание: Удаление задания

Обязательные параметры:
 id - id задания
```

### **division\_add**

{% code overflow="wrap" %}
```
Описание: Добавление подразделения

Обязательные параметры:
 id - id задания
 division_id - id подразделения
Необязательные параметры:
 employee_id - id сотрудника-инициатора (для фиксации в историю по заданию)
```
{% endcode %}

### **division\_delete**

```
Описание: Исключение подразделения

Обязательные параметры:
 id - id задания
 division_id - id подразделения
Необязательные параметры:
 employee_id - id сотрудника-инициатора (для фиксации в историю по заданию)
```

### **edit**

```
Описание: Изменение задания

Обязательные параметры:
 id - id задания
Необязательные параметры:
 address_id - id адресной единицы
 apartment - номер квартиры
 author_employee_id - id сотрудника - автора задания
 body - текст задания (описательная часть)
 deadline_hour - время на выполнение задания (с даты принятия. В часах)
 is_high_priority - флаг - высокий приоритет
 job_time_hour - время на выполнение задания (с даты начала работ. В часах)
 parent_task_id - id родительского задания
 type_id - id типа задания
```

### **employee\_add**

```
Описание: Добавление исполнителя

Обязательные параметры:
 id - id задания
 employee_id - id исполнителя
Необязательные параметры:
 author_employee_id - id сотрудника-инициатора (для фиксации в историю по заданию)
```

### **employee\_delete**

```
Описание: Исключение исполнителя

Обязательные параметры:
 id - id задания
 employee_id - id исполнителя
Необязательные параметры:
 author_employee_id - id сотрудника-инициатора (для фиксации в историю по заданию)
```

### **get\_allow\_staff**

{% code overflow="wrap" %}
```
Описание: Список исполнителей и подразделений, которые доступны для назначение на задание (согласно настроек)

Обязательные параметры:
 id - id задания
```
{% endcode %}

### **get\_catalog\_type**

```
Описание: Типы заданий

Необязательные параметры:
 id - id типа заданий (можно через запятую)
```

### **get\_catalog\_type\_group**

```
Описание: Группы типов заданий
```

### **get\_catalog\_state**

```
Описание: Классификатор состояний заданий

Необязательные параметры:
 type_id - id типа задания
 state_id - id состояния (можно через запятую)
```

### **get\_comment**

```
Описание: Комментарии

Необязательные параметры (но должен быть хотя-бы один):
 id - id комментария (можно через запятую)
 task_id - id заданий (можно через запятую)
 date_add_from - дата добавления комментария (с)
 date_add_to - дата добавления комментария (до)
 employee_id - id сотрудника-автора комментария
```

**get\_list**

{% code overflow="wrap" %}
```
Описание: Список заданий (идентификаторы)

Необязательные параметры (условия выборки):
 address_id - ID адресного объекта (можно через запятую)
 apart - номер квартиры/помещения
 author_employee_id - ID сотрудника - автора задания (можно через запятую)
 change_employee_id - ID сотрудника - автора изменений по заданию
 change_operation_type - тип действий по изменению задания (возможные значения: add_comment, change_state)
 closer_employee_id - ID сотрудника, который закрыл (выполнил) задание (можно через запятую)
 customer_id - ID абонента (можно через запятую)
 date_add_from - дата создания задания (с)
 date_add_to - дата создания задания (до)
 date_change_from - дата обновления задания (с)
 date_change_to - дата обновления задания (до)
 date_do_from - дата на которую назначено выполнение задания (с)
 date_do_to - дата на которую назначено выполнение задания (до)
 date_finish_from - дата выполнения задания (с)
 date_finish_to - дата выполнения задания (до)
 device_id - ID оборудования (можно через запятую)
 division_id - ID подразделения (можно через запятую)
 division_id_with_staff - ID подразделения (в т.ч. с заданиями сотрудников этого подразделения) (можно через запятую)
 employee_id - ID исполнителя (можно через запятую, используйте -1 для получения заданий без исполнителей)
 house_id - ID дома работ
 is_expired - флаг - выводить только просроченные задания
 node_id - ID объекта размещения
 state_id - ID статуса заданий (можно через запятую)
 task_position - координаты задания (там где это возможно. В формате lat,lng. Напр: 55.763787,37.526115)
 task_position_radius - радиус от task_position (в метрах)
 type_id - ID типа заданий (можно через запятую)
 watcher_employee_id - ID сотрудника-наблюдателя за заданием (можно через запятую)
 order_by - поле для сортировки (возможные варианты: date_add, date_change, date_do, date_finish, state_id, type_id)
 limit - лимит выборки записей
 offset - смещение выборки
```
{% endcode %}

### **get\_related\_task\_id**

```
Описание: Список связанных заданий с текущим заданием (идентификаторы)

Обязательные параметры:
 id - ID задания
```

### **get\_typical\_comments**

```
Описание: Получение списка типовых комментариев
```

### **mark\_add**

```
Описание: Добавление метки на задание
Обязательные параметры:
 task_id - id задания
 mark_id - id метки
```

### **mark\_delete**

```
Описание: Удаление метки с задания
Обязательные параметры:
 task_id - id задания
 mark_id - id метки
```

### **overview\_task**

```
Описание: Фиксация факта просмотра задания сотрудником

Обязательные параметры:
 task_id - id задания
 employee_id - id сотрудника
```

### **remove\_customer\_from\_task**

```
Описание: Исключение абонента с задания

Обязательные параметры:
 task_id - id задания
 customer_id - id абонента
```

### **remove\_owner\_from\_task**

```
Описание: Исключение собственника с задания

Обязательные параметры:
 task_id - id задания
 owner_id - id собственника
```

### **set\_rate**

```
Описание: Указание индивидуального тарифа (для сотрудников) по заданию

Обязательные параметры:
 task_id - ID задания
 rate - тариф
```

### **show**

{% code overflow="wrap" %}
```
Описание: Информация о задании

Обязательные параметры:
 id - id задания (можно через запятую)
Необязательные параметры:
 employee_id - id сотрудника, который просматривает это задание (для фиксации в историю по заданию)
 is_without_comments - флаг - не выводить комментарии в информации по заданию
```
{% endcode %}

### **watcher\_add**

```
Описание: Добавление наблюдателя

Обязательные параметры:
 id - id задания
 employee_id - id наблюдателя
Необязательные параметры:
 author_employee_id - id сотрудника-инициатора (для фиксации в историю по заданию)
```

### **watcher\_delete**

```
Описание: Исключение наблюдателя

Обязательные параметры:
 id - id задания
 employee_id - id наблюдателя
Необязательные параметры:
 author_employee_id - id сотрудника-инициатора (для фиксации в историю по заданию)
```
